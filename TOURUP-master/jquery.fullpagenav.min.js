!function(e){function n(e,t){var n=e.width(),r=e.offset().left+n/2;return t.pageX>r?0:1}var t={columns:5,selector:"> li",hover_size:"30%",animateDuration:500,animateFrom:"left",clickable:true,afterClicked:null};e.fn.recalculate=function(t,n){var r=e(this),i=false,s=r.find(t.selector).length,o=0,u=0;if(r.find(".fpn_li.active").length>0){r.find(".fpn_li.active").css({width:t.hover_size});var a=(100-parseFloat(t.hover_size))/(t.columns-1);r.find(".fpn_li:not(.active)").css({width:a+"%"});r.find(t.selector).each(function(n,r){if(e(this).prev(".fpn_li").length>0){if(e(this).prev(".fpn_li").hasClass("active")){var i=t.hover_size}else{var i=a}var s=u+parseFloat(i);e(this).finish().animate({left:s+"%"},t.animateDuration,function(){e(this).css({left:s+"%"})});u=u+parseFloat(i)}})}else{r.find(t.selector).each(function(r,i){e(this).finish().animate({width:n+"%",left:n*r+"%"},t.animateDuration)})}};e.fn.fullpagenav=function(r){var i=e.extend({},t,r),s=e(this),o=100/i.columns;s.addClass("fullpagenav").find(i.selector).addClass("fpn_li");s.parent().addClass("fpn_body");s.find(i.selector).each(function(t,r){var u=e(this);u.css({width:o+"%",left:o*t+"%"});u.wrapInner("<div class='fpn_wrap'></div>");if(i.clickable==true&&u.data("link")){u.css({cursor:"pointer"}).click(function(t){if(!u.find(".fpn_wrap").hasClass("fpn_clicked")){u.find(".fpn_wrap > img").css({margin:0,padding:0,left:0,maxHeight:"inherit"}).animate({width:"100%"});u.find(".fpn_wrap").addClass("fpn_clicked").css({position:"fixed","z-index":99}).finish().animate({width:"100%",top:0,left:0},i.animationDuration,function(){t.preventDefault();if(typeof i.afterClicked=="function")return i.afterClicked(u.data("link"));window.location.href=u.data("link")})}else{u.find(".fpn_wrap").removeClass("fpn_clicked").finish().animate({width:"0%",top:0,left:0,height:"0%"},i.animationDuration,function(){e(this).attr("style","").find("> img").attr("style","")})}})}u.mouseenter(function(t){if(!u.find(".fpn_wrap").hasClass("fpn_clicked")){e(this).finish().addClass("active");s.recalculate(i,o);if(i.animateFrom=="auto"){if(n(u,t)==1){e(this).find(".fpn_wrap").finish().css({"float":"left"}).animate({width:s.find(".fpn_li.active").width()},i.animateDuration)}else{e(this).find(".fpn_wrap").finish().css({"float":"right"}).animate({width:s.find(".fpn_li.active").width()},i.animateDuration)}}else{e(this).find(".fpn_wrap").finish().css({"float":i.animateFrom}).animate({width:s.find(".fpn_li.active").width()},i.animateDuration)}}}).mouseleave(function(){if(!u.find(".fpn_wrap").hasClass("fpn_clicked")){e(this).removeClass("active");s.recalculate(i,o);s.find(".fpn_wrap").finish().css({width:"100%"})}})})}}(window.jQuery)